!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).rainCore={})}(this,(function(e){"use strict";const t="__isReactive",n="__raw";function l(e){return"object"==typeof e&&null!=e}function o(e){return!(!e||!e.__isReactive)}function r(e){return!(!e||!e.__isRef)}function i(e,t){return e!==t&&!(Number.isNaN(e)||Number.isNaN(t))}const s=[];let c;function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=()=>{try{return s.push(n),c=n,e()}finally{s.pop(),c=s[s.length-1]}};return t.lazy||n(),n.scheduler=t.scheduler,n}const f=new WeakMap;function a(e,t){if(!c)return;let n=f.get(e);n||f.set(e,n=new Map);let l=n.get(t);l||n.set(t,l=new Set),c.deps=l,l.add(c)}function h(e,t,n){const l=f.get(e);if(!l)return;const o=l.get(t);o&&o.forEach((e=>{e.scheduler?e.scheduler(e,n):e()}))}const d=new WeakMap;function p(e){return l(e)?o(e)?e:d.has(e)?d.get(e):function(e){const o=e,r=new Proxy(e,{get(e,r,i){if(r===t)return!0;if(r===n)return o;const s=Reflect.get(e,r,i);return a(e,r),l(s)?p(s):s},set(e,t,n,l){const o=e[t],r=e.length,s=Reflect.set(e,t,n,l);return i(o,n)&&(h(e,t,n),function(e){return Array.isArray(e)}(e)&&e.length!==r&&h(e,"length")),s}});return d.set(e,r),r}(e):e}class y{constructor(e){this.__isRef=!0,this.__rawValue=e,this._value=g(e)}get value(){return a(this,"value"),this._value}set value(e){i(this._value,e)&&(this._value=g(e),this.__rawValue=e,h(this,"value",e))}}function g(e){return l(e)?p(e):e}class m{constructor(e,t){this._setter=t,this._value=void 0,this._dirty=!0,this.effect=u(e,{lazy:!0,scheduler:()=>{this._dirty||(this._dirty=!0,h(this,"value",this._value))}})}get value(){return this._dirty&&(this._value=this.effect(),this._dirty=!1,a(this,"value")),this._value}set value(e){this._setter(e)}}const v=1,_=2,b=4,k=8,x=16,w=32,N=Symbol("Text"),C=Symbol("Fragment");function E(e){return"string"==typeof e}const R=/[A-Z]|^(value|checked|selected|muted|disabled)$/;function A(e,t,n){e.forEach((e=>{B(null,e,t,n)}))}function F(e,t,n,l){e?(e.elm?.textContent!==t.children&&(e.elm.textContent=t.children),t.elm=e.elm):function(e,t,n){const l=document.createTextNode(e.children);e.elm=l,t.insertBefore(l,n)}(t,n,l)}function T(e,t,n,l){e?function(e,t){t.elm=e.elm,j(e.props,t.props,t.elm),L(e,t,t.elm)}(e,t):function(e,t,n){const{type:l,props:o,shapeFlag:r,children:i}=e,s=document.createElement(l);o&&j(null,o,s),r&x&&(s.textContent=e.children),r&w&&A(i,s),e.elm=s,t.insertBefore(s,n)}(t,n,l)}function M(e){const{shapeFlag:t}=e;t&k||(t&b?function(e){let{elm:t,anchor:n}=e;const l=t.parentNode;for(;t!==n;){const e=t.nextSibling;l.removeChild(t),t=e}l.removeChild(n)}(e):function(e){const{elm:t}=e;t.parentNode.removeChild(t)}(e))}function S(e){e.forEach((e=>{M(e)}))}function B(e,t,n,l){e&&!function(e,t){return e.type===t.type}(e,t)&&(l=(e.anchor||e.elm).nextSibling,M(e),e=null);const{shapeFlag:o}=t;o&_&&F(e,t,n,l),o&b&&function(e,t,n,l){const o=t.elm=e?e.elm:document.createTextNode(""),r=t.anchor=e?e.anchor:document.createTextNode("");e?L(e,t,n,r):(n.insertBefore(o,l),n.insertBefore(r,l),A(t.children,n,r))}(e,t,n,l),o&v&&T(e,t,n,l)}function j(e,t,n){if(e!==t){e=e||{},t=t||{};for(const l in t){if("key"===l)continue;const o=e[l],r=t[l];o!==r&&z(n,l,o,r)}for(const l in e)"key"===l||l in t||z(n,l,e[l],null)}}function z(e,t,n,l){switch(t){case"class":e.className=l||"";break;case"style":if(l){for(const t in l)e.style[t]=l[t];if(n)for(const t in n)null==l[t]&&(e.style[t]="")}else e.removeAttribute("style");break;default:if(/^on[^a-z]/.test(t)){if(n!==l){const o=t.slice(2).toLowerCase();n&&e.removeEventListener(o,n),l&&e.addEventListener(o,l)}}else R.test(t)?(""===l&&"boolean"==typeof e[t]&&(l=!0),e[t]=l):null==l||!1===l?e.removeAttribute(t):e.setAttribute(t,l)}}function L(e,t,n,l){const{shapeFlag:o,children:r}=e,{shapeFlag:i,children:s}=t;i&x?(o&w&&S(r),s!==r&&(n.textContent=s)):i&w?o&w?function(e,t){let n=0,l=0;return e.forEach((e=>{e&&null!=e.key&&n++})),t.forEach((e=>{e&&null!=e.key&&l++})),n===e.length&&l===t.length}(r,s)?function(e,t,n,l){let o=0,r=e.length-1,i=t.length-1;for(;o<=r&&o<=i&&e[o].key===t[o].key;)B(e[o],t[o],n,l),o++;for(;o<=r&&o<=i&&e[r].key===t[i].key;)B(e[r],t[i],n,l),r--,i--;if(o>r){const e=i+1,r=t[e]&&t[e].elm||l;for(let e=o;e<=i;e++)B(null,t[e],n,r)}if(o>i)for(let t=o;t<=r;t++)M(e[t]);if(o<=r&&o<=i){const s=new Map;for(let t=o;t<=r;t++)s.set(e[t].key,{prev:e[t],index:t});let c=0,u=!1;const f=[],a=new Array(i-o+1).fill(-1);for(let e=0;e<i-o+1;e++){const r=t[e+o];if(s.has(r.key)){const{prev:t,index:o}=s.get(r.key);B(t,r,n,l),o<c?u=!0:c=o,a[e]=o,s.delete(r.key)}else f.push(e+o)}if(s.forEach((e=>{let{prev:t}=e;M(t)})),u){const e=function(e){const t=[],n=[];for(let l=0;l<e.length;l++)if(-1!==e[l])if(e[l]>t[t.length-1])t.push(e[l]),n.push(t.length-1);else{let o=0,r=t.length-1;for(;o<=r;){const n=~~((o+r)/2);if(e[l]>t[n])o=n+1;else{if(!(e[l]<t[n])){o=n;break}r=n-1}}t[o]=e[l],n.push(o)}let l=t.length-1;for(let e=n.length-1;e>=0&&l>=0;e--)n[e]===l&&(t[l--]=e);return t}(a);let r=e.length-1;for(let i=a.length-1;i>=0;i--)if(i===e[r])r--;else{const e=i+o,r=e+1,s=t[r]&&t[r].elm||l;-1===a[i]?B(null,t[e],n,s):n.insertBefore(t[e].elm,s)}}else if(f.length)for(let e=f.length-1;e>=0;e++){const o=f[e],r=o+1,i=t[r]&&t[r].elm||l;B(null,t[o],n,i)}}}(r,s,n,l):function(e,t,n,l){const o=e.length,r=t.length,i=Math.min(o,r);for(let o=0;o<i;o++)B(e[o],t[o],n,l);r>o&&A(t.slice(i),n,l);r<o&&S(e.slice(i))}(r,s,n,l):(n.textContent=null,A(s,n,l)):(o&x&&(n.textContent=null),o&w&&S(r))}e.Fragment=C,e.Text=N,e.computed=function(e){let t,n;var l;return"function"==typeof(l=e)&&null!=l?(t=e,n=()=>{console.warn("Write operation failed: computed value is readonly")}):(t=e.get,n=e.set),new m(t,n)},e.h=function(e,t,n){let l=function(e){return E(e)?v:e===N?_:e===C?b:k}(e);return(E(n)||"number"==typeof n)&&(l|=x,n=n.toString()),function(e){return Array.isArray(e)}(n)&&(l|=w),{type:e,props:t,children:n,shapeFlag:l,elm:null,anchor:null,key:t&&t.key}},e.isReactive=o,e.isRef=r,e.reactive=p,e.ref=function(e){return r(e)?e:new y(e)},e.render=function(e,t){const n=t._vNode;e?B(n,e,t):n&&M(n),t._vNode=e},e.toRaw=function(e){if(o(e))return e[n]},e.unRef=function(e){return r(e)?e.value:e},e.watch=function(e,t){let n=r(e)?e.value:e(),l=u((()=>r(e)?e.value:e()),{scheduler:(e,l)=>{t(l,n),n=l}});const o=l.deps;return function(){o.delete(l),l=null,n=null}},e.watchEffect=function(e){let t=u(e);const n=t.deps;return function(){n.delete(t),t=null}},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=rainCore.min.js.map
